# SpringAI å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒæ£€æŸ¥
ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ï¼š
- âœ… JDK 17+
- âœ… Maven 3.6+
- âœ… MySQL 8.0+

### ç¬¬äºŒæ­¥ï¼šæ•°æ®åº“å‡†å¤‡
```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE db_springai CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºç”¨æˆ·è¡¨
CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    email VARCHAR(100),
    status VARCHAR(20) DEFAULT 'ACTIVE',
    create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ–‡ä»¶
ç¼–è¾‘ `src/main/resources/application.yml`ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/db_springai
    username: root
    password: 12345678

ai:
  type: ollama  # æˆ– dashscope
```

### ç¬¬å››æ­¥ï¼šå¯åŠ¨åº”ç”¨
```bash
# ç¼–è¯‘é¡¹ç›®
mvn clean compile

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run
```

### ç¬¬äº”æ­¥ï¼šæµ‹è¯•åŠŸèƒ½
åº”ç”¨å¯åŠ¨åï¼Œè®¿é—®ä»¥ä¸‹æ¥å£ï¼š

#### 1. åŸºç¡€èŠå¤©
```bash
curl -X POST "http://localhost:8080/text?message=ä½ å¥½"
```

#### 2. æµå¼èŠå¤©
```bash
curl -N "http://localhost:8080/stream?message=è¯·è®²ä¸ªç¬‘è¯"
```

#### 3. å¤©æ°”æŸ¥è¯¢
```bash
curl "http://localhost:8080/api/weather/city/åŒ—äº¬"
```

#### 4. ç”¨æˆ·ç®¡ç†
```bash
# åˆ›å»ºç”¨æˆ·
curl -X POST "http://localhost:8080/api/users" \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"123456","status":"ACTIVE"}'

# æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
curl "http://localhost:8080/api/users"
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

### AIèŠå¤©åŠŸèƒ½
- **æ™®é€šèŠå¤©**ï¼š`/text?message=ä½ çš„é—®é¢˜`
- **æµå¼èŠå¤©**ï¼š`/stream?message=ä½ çš„é—®é¢˜`
- **å·¥å…·è°ƒç”¨**ï¼šAIå¯ä»¥è°ƒç”¨å¤©æ°”æŸ¥è¯¢ã€ç”¨æˆ·æ³¨å†Œç­‰å·¥å…·

### å¤©æ°”æœåŠ¡
- **å½“å‰å¤©æ°”**ï¼š`/api/weather/city/{åŸå¸‚å}`
- **å¤©æ°”é¢„æŠ¥**ï¼š`/api/weather/forecast/{åŸå¸‚å}?days=5`
- **å¥åº·æ£€æŸ¥**ï¼š`/api/weather/health`

### ç”¨æˆ·ç®¡ç†
- **åˆ›å»ºç”¨æˆ·**ï¼š`POST /api/users`
- **æŸ¥è¯¢ç”¨æˆ·**ï¼š`GET /api/users/{id}`
- **æ›´æ–°ç”¨æˆ·**ï¼š`PUT /api/users/{id}`
- **åˆ é™¤ç”¨æˆ·**ï¼š`DELETE /api/users/{id}`

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### 1. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8080

# ä¿®æ”¹ç«¯å£
# åœ¨ application.yml ä¸­æ·»åŠ ï¼š
server:
  port: 8081
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
sudo systemctl status mysql

# å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
```

### 3. AIæ¨¡å‹è¿æ¥å¤±è´¥
```bash
# å¦‚æœä½¿ç”¨Ollamaï¼Œç¡®ä¿å·²å®‰è£…å¹¶å¯åŠ¨
ollama serve

# å¦‚æœä½¿ç”¨DashScopeï¼Œç¡®ä¿é…ç½®äº†APIå¯†é’¥
export DASHSCOPE_API_KEY=your_api_key
```

### 4. ä¾èµ–ä¸‹è½½å¤±è´¥
```bash
# æ¸…ç†Mavenç¼“å­˜
mvn clean

# é‡æ–°ä¸‹è½½ä¾èµ–
mvn dependency:resolve
```

## ğŸ“± å‰ç«¯ç•Œé¢

è®¿é—® `http://localhost:8080` å¯ä»¥çœ‹åˆ°ç®€å•çš„Webç•Œé¢ã€‚

### åˆ›å»ºè‡ªå®šä¹‰å‰ç«¯é¡µé¢
åœ¨ `src/main/resources/static/` ç›®å½•ä¸‹åˆ›å»ºHTMLæ–‡ä»¶ï¼š

```html
<!DOCTYPE html>
<html>
<head>
    <title>SpringAI èŠå¤©</title>
</head>
<body>
    <h1>SpringAI æ™ºèƒ½åŠ©æ‰‹</h1>
    <input type="text" id="message" placeholder="è¾“å…¥æ¶ˆæ¯...">
    <button onclick="sendMessage()">å‘é€</button>
    <div id="response"></div>

    <script>
        async function sendMessage() {
            const message = document.getElementById('message').value;
            const response = await fetch('/text?message=' + encodeURIComponent(message));
            const result = await response.text();
            document.getElementById('response').innerHTML = result;
        }
    </script>
</body>
</html>
```

## ğŸ› ï¸ å¼€å‘æ¨¡å¼

### çƒ­é‡è½½
```bash
# ä½¿ç”¨Spring Boot DevToolså®ç°çƒ­é‡è½½
mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Dspring.devtools.restart.enabled=true"
```

### è°ƒè¯•æ¨¡å¼
åœ¨IDEä¸­ç›´æ¥è¿è¡Œ `SpringAiApplication.java` çš„mainæ–¹æ³•ã€‚

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/spring-ai.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep ERROR logs/spring-ai.log
```

## ğŸ“Š ç›‘æ§å’Œå¥åº·æ£€æŸ¥

### å¥åº·æ£€æŸ¥
```bash
curl "http://localhost:8080/actuator/health"
```

### åº”ç”¨ä¿¡æ¯
```bash
curl "http://localhost:8080/actuator/info"
```

### æŒ‡æ ‡ç›‘æ§
```bash
curl "http://localhost:8080/actuator/metrics"
```

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t springai-app .

# è¿è¡Œå®¹å™¨
docker run -p 8080:8080 springai-app
```

### ç¯å¢ƒå˜é‡é…ç½®
```bash
export SPRING_PROFILES_ACTIVE=prod
export WEATHER_API_KEY=your_weather_api_key
export DASHSCOPE_API_KEY=your_dashscope_api_key
```

## ğŸ“š å­¦ä¹ è·¯å¾„

### åˆå­¦è€…è·¯å¾„
1. è¿è¡Œé¡¹ç›®ï¼Œä½“éªŒåŸºæœ¬åŠŸèƒ½
2. é˜…è¯» `SpringAIæ•™å­¦æ•™ç¨‹.md`
3. æŒ‰ç…§ `å®è·µç»ƒä¹ æŒ‡å—.md` é€æ­¥ç»ƒä¹ 
4. ä¿®æ”¹ä»£ç ï¼Œæ·»åŠ æ–°åŠŸèƒ½

### è¿›é˜¶è·¯å¾„
1. æ·±å…¥ç†è§£SpringAIæ¶æ„
2. é›†æˆæ›´å¤šAIæ¨¡å‹
3. ä¼˜åŒ–æ€§èƒ½å’Œå®‰å…¨æ€§
4. å‚ä¸å¼€æºè´¡çŒ®

## ğŸ†˜ è·å–å¸®åŠ©

### å®˜æ–¹èµ„æº
- [SpringAIå®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-ai/reference/)
- [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)

### ç¤¾åŒºæ”¯æŒ
- [SpringAI GitHub](https://github.com/spring-projects/spring-ai)
- [Stack Overflow](https://stackoverflow.com/questions/tagged/spring-ai)

### é¡¹ç›®æ–‡æ¡£
- `SpringAIæ•™å­¦æ•™ç¨‹.md` - è¯¦ç»†æ•™ç¨‹
- `å®è·µç»ƒä¹ æŒ‡å—.md` - å®è·µç»ƒä¹ 
- `README_WEATHER_API.md` - å¤©æ°”APIæ–‡æ¡£
- `README_USER_CRUD.md` - ç”¨æˆ·ç®¡ç†æ–‡æ¡£

---

**å¼€å§‹æ‚¨çš„SpringAIä¹‹æ—…å§ï¼** ğŸ‰

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£æˆ–ç¤¾åŒºèµ„æºã€‚ç¥æ‚¨å­¦ä¹ æ„‰å¿«ï¼ 